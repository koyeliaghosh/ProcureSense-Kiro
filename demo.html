<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProcureSense - Working AI Demo | Built with Kiro</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh; color: #333;
        }
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        .header { text-align: center; color: white; margin-bottom: 40px; }
        .header h1 { font-size: 3rem; font-weight: 700; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
        .header p { font-size: 1.2rem; opacity: 0.9; margin-bottom: 20px; }
        .nav-links { display: flex; justify-content: center; gap: 20px; margin-bottom: 30px; flex-wrap: wrap; }
        .nav-link { 
            color: white; text-decoration: none; padding: 10px 20px; 
            border-radius: 25px; background: rgba(255,255,255,0.1);
            transition: all 0.3s ease; margin: 5px;
        }
        .nav-link:hover { background: rgba(255,255,255,0.2); transform: translateY(-2px); }
        .nav-link.active { background: rgba(255,255,255,0.3); }
        
        .agents-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .agent-card { 
            background: white; border-radius: 15px; padding: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1); transition: transform 0.3s ease;
        }
        .agent-card:hover { transform: translateY(-5px); }
        
        .agent-header { display: flex; align-items: center; gap: 15px; margin-bottom: 20px; }
        .agent-icon { 
            width: 50px; height: 50px; border-radius: 12px; display: flex;
            align-items: center; justify-content: center; font-size: 24px; color: white;
        }
        .negotiation { background: linear-gradient(135deg, #667eea, #764ba2); }
        .compliance { background: linear-gradient(135deg, #f093fb, #f5576c); }
        .forecast { background: linear-gradient(135deg, #4facfe, #00f2fe); }
        
        .agent-title { font-size: 1.5rem; font-weight: 600; color: #1f2937; }
        .agent-description { color: #6b7280; margin-bottom: 20px; line-height: 1.6; }
        
        .form-group { margin-bottom: 20px; }
        .form-label { display: block; font-weight: 500; color: #374151; margin-bottom: 8px; }
        .form-input, .form-textarea, .form-select { 
            width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb;
            border-radius: 10px; font-size: 14px; transition: border-color 0.3s ease;
        }
        .form-input:focus, .form-textarea:focus, .form-select:focus { 
            outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        .form-textarea { resize: vertical; min-height: 100px; }
        
        .btn { 
            background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none;
            padding: 12px 24px; border-radius: 10px; font-weight: 600; cursor: pointer;
            transition: all 0.3s ease; width: 100%;
        }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3); }
        .btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }
        
        .response-section { 
            margin-top: 20px; padding: 20px; background: #f8fafc; border-radius: 12px;
            border-left: 4px solid #667eea; display: none;
        }
        .response-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .compliance-badge { 
            padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: 600; text-transform: uppercase;
        }
        .compliant { background: #dcfce7; color: #166534; }
        .revised { background: #fef3c7; color: #92400e; }
        .flagged { background: #fee2e2; color: #991b1b; }
        
        .response-content { 
            background: white; padding: 15px; border-radius: 8px; border: 1px solid #e5e7eb;
            font-family: 'Courier New', monospace; font-size: 14px; line-height: 1.5; white-space: pre-wrap;
        }
        
        .loading { 
            display: inline-block; width: 20px; height: 20px; border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea; border-radius: 50%; animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        
        .status-bar { 
            background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); border-radius: 15px;
            padding: 15px; margin-bottom: 30px; display: flex; justify-content: space-between;
            align-items: center; color: white; flex-wrap: wrap;
        }
        .status-item { display: flex; align-items: center; gap: 8px; margin: 5px; }
        .status-dot { 
            width: 12px; height: 12px; border-radius: 50%; background: #4ade80;
            animation: pulse 2s infinite;
        }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        
        @media (max-width: 768px) {
            .agents-grid { grid-template-columns: 1fr; }
            .header h1 { font-size: 2rem; }
            .status-bar { flex-direction: column; gap: 10px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü§ñ ProcureSense</h1>
            <p>AI-Powered Procurement Co-Pilot with Multi-Agent Architecture</p>
            <p><strong>Interactive Demo - Built with Kiro AI</strong></p>
            
            <div class="nav-links">
                <a href="#demo" class="nav-link active">üè† Live Demo</a>
                <a href="#business" class="nav-link">üìä Business Case</a>
                <a href="https://github.com/koyeliaghosh/ProcureSense-Kiro" class="nav-link" target="_blank">üíª GitHub</a>
            </div>
        </div>

        <div class="status-bar">
            <div class="status-item">
                <div class="status-dot"></div>
                <span>System Status: <strong>Online</strong></span>
            </div>
            <div class="status-item">
                <span>üîí Policy Enforcement: <strong>Active</strong></span>
            </div>
            <div class="status-item">
                <span>‚ö° Response Time: <strong>< 2s</strong></span>
            </div>
        </div>

        <div class="agents-grid">
            <!-- Negotiation Agent -->
            <div class="agent-card">
                <div class="agent-header">
                    <div class="agent-icon negotiation">üíº</div>
                    <div class="agent-title">Negotiation Agent</div>
                </div>
                <div class="agent-description">
                    Generate pricing proposals, negotiate discounts, and create contract terms with automatic warranty inclusion.
                </div>
                
                <form id="negotiation-form">
                    <div class="form-group">
                        <label class="form-label">Vendor Name</label>
                        <input type="text" class="form-input" name="vendor" placeholder="e.g., TechCorp Solutions" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Target Discount (%)</label>
                        <input type="number" class="form-input" name="discount" min="0" max="50" step="0.1" placeholder="15.0" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Category</label>
                        <select class="form-select" name="category" required>
                            <option value="">Select category...</option>
                            <option value="software">Software</option>
                            <option value="hardware">Hardware</option>
                            <option value="consulting">Consulting</option>
                            <option value="cloud_services">Cloud Services</option>
                        </select>
                    </div>
                    <button type="submit" class="btn">
                        <span class="btn-text">üöÄ Generate Proposal</span>
                        <span class="loading" style="display: none;"></span>
                    </button>
                </form>
                
                <div id="negotiation-response" class="response-section">
                    <div class="response-header">
                        <strong>Negotiation Result</strong>
                        <span id="negotiation-compliance" class="compliance-badge"></span>
                    </div>
                    <div id="negotiation-content" class="response-content"></div>
                </div>
            </div>

            <!-- Compliance Agent -->
            <div class="agent-card">
                <div class="agent-header">
                    <div class="agent-icon compliance">‚öñÔ∏è</div>
                    <div class="agent-title">Compliance Agent</div>
                </div>
                <div class="agent-description">
                    Analyze contract clauses for policy violations and provide compliant alternatives with risk assessment.
                </div>
                
                <form id="compliance-form">
                    <div class="form-group">
                        <label class="form-label">Contract Clause</label>
                        <textarea class="form-textarea" name="clause" placeholder="e.g., Provider may terminate at will without cure period..." required></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Contract Type</label>
                        <select class="form-select" name="contract_type" required>
                            <option value="">Select type...</option>
                            <option value="software_license">Software License</option>
                            <option value="service_agreement">Service Agreement</option>
                            <option value="consulting">Consulting</option>
                            <option value="maintenance">Maintenance</option>
                        </select>
                    </div>
                    <button type="submit" class="btn">
                        <span class="btn-text">üîç Analyze Compliance</span>
                        <span class="loading" style="display: none;"></span>
                    </button>
                </form>
                
                <div id="compliance-response" class="response-section">
                    <div class="response-header">
                        <strong>Compliance Analysis</strong>
                        <span id="compliance-compliance" class="compliance-badge"></span>
                    </div>
                    <div id="compliance-content" class="response-content"></div>
                </div>
            </div>

            <!-- Forecast Agent -->
            <div class="agent-card">
                <div class="agent-header">
                    <div class="agent-icon forecast">üìä</div>
                    <div class="agent-title">Forecast Agent</div>
                </div>
                <div class="agent-description">
                    Analyze budget forecasts, spending alignment, and provide variance analysis with risk warnings.
                </div>
                
                <form id="forecast-form">
                    <div class="form-group">
                        <label class="form-label">Category</label>
                        <select class="form-select" name="category" required>
                            <option value="">Select category...</option>
                            <option value="software">Software</option>
                            <option value="hardware">Hardware</option>
                            <option value="consulting">Consulting</option>
                            <option value="cloud_services">Cloud Services</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Planned Spend ($)</label>
                        <input type="number" class="form-input" name="planned_spend" min="0" step="100" placeholder="50000" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Current Budget ($)</label>
                        <input type="number" class="form-input" name="current_budget" min="0" step="100" placeholder="75000" required>
                    </div>
                    <button type="submit" class="btn">
                        <span class="btn-text">üìà Generate Forecast</span>
                        <span class="loading" style="display: none;"></span>
                    </button>
                </form>
                
                <div id="forecast-response" class="response-section">
                    <div class="response-header">
                        <strong>Budget Forecast</strong>
                        <span id="forecast-compliance" class="compliance-badge"></span>
                    </div>
                    <div id="forecast-content" class="response-content"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Mock AI responses for demo
        const mockResponses = {
            negotiation: (data) => `**Negotiation Strategy for ${data.vendor}**

**Pricing Analysis:**
- Target discount: ${data.discount}% is achievable with strategic approach
- Market positioning shows competitive advantage opportunity
- Recommend bundling approach for enhanced value

**Negotiation Recommendations:**
1. **Volume Commitment**: Offer 2-year contract for ${data.discount}% discount
2. **Payment Terms**: Net-30 to Net-15 for additional 2% savings
3. **Warranty Extension**: Include 24-month warranty at no extra cost
4. **Implementation Support**: Free onboarding and training included

**Risk Mitigation:**
- Include performance SLAs with penalty clauses
- Maintain termination rights with 90-day notice
- Require vendor insurance coverage minimum $2M

**Expected Outcome:** ${data.discount}% discount achieved with enhanced terms and warranty protection.

**Global Policy Critic Validation:** ‚úÖ All terms comply with enterprise policies`,

            compliance: (data) => `**Compliance Analysis Complete**

**Policy Violations Identified:**
1. **Termination Clause**: Current clause violates enterprise policy
2. **Risk Assessment**: HIGH RISK - Requires immediate revision

**Original Clause Analysis:**
"${data.clause}"

**Recommended Revisions:**
1. **Termination Rights**: 
   - Revised: "Either party may terminate with 90-day written notice and 30-day cure period"
2. **Liability Protection**:
   - Add mutual liability caps at contract value
   - Exclude gross negligence and willful misconduct
3. **Compliance Requirements**:
   - Include GDPR compliance certification
   - Add data breach notification (72-hour requirement)

**Compliance Status:** REQUIRES REVISION - Contract cannot proceed without addressing violations.

**Global Policy Critic Validation:** ‚ö†Ô∏è Violations detected and corrected`,

            forecast: (data) => {
                const planned = parseFloat(data.planned_spend);
                const budget = parseFloat(data.current_budget);
                const variance = ((planned - budget) / budget * 100).toFixed(1);
                const status = Math.abs(variance) > 15 ? "HIGH RISK" : Math.abs(variance) > 5 ? "MEDIUM RISK" : "LOW RISK";
                
                return `**Budget Forecast Analysis**

**Current Performance:**
- Planned Spend: $${planned.toLocaleString()}
- Budget Allocation: $${budget.toLocaleString()}
- Variance: ${variance}% ${variance > 0 ? 'OVER' : 'UNDER'} budget

**Risk Assessment:** ${status}

**Forecast Projections:**
- Q1 Projected: $${(planned * 1.1).toLocaleString()}
- Q2 Projected: $${(planned * 1.05).toLocaleString()}
- Annual Forecast: $${(planned * 4.2).toLocaleString()}

**Recommendations:**
1. **Cost Optimization**: Negotiate volume discounts for Q2
2. **Budget Reallocation**: Consider shifting 10% from hardware to ${data.category}
3. **Approval Process**: Implement additional approval for purchases >$25K
4. **Vendor Consolidation**: Reduce vendor count by 20% for better pricing

**Action Items:**
- Review budget variance by March 15, 2024
- Implement cost controls for remaining quarters
- Schedule monthly budget review meetings

**Global Policy Critic Validation:** ‚úÖ Forecast complies with budget policies`;
            }
        };

        // Form submission handlers
        function handleFormSubmit(formId, agentType) {
            const form = document.getElementById(formId);
            const responseSection = document.getElementById(`${agentType}-response`);
            const complianceBadge = document.getElementById(`${agentType}-compliance`);
            const contentDiv = document.getElementById(`${agentType}-content`);
            const btn = form.querySelector('.btn');
            const btnText = btn.querySelector('.btn-text');
            const loading = btn.querySelector('.loading');

            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                
                // Show loading
                btn.disabled = true;
                btnText.style.display = 'none';
                loading.style.display = 'inline-block';
                
                // Get form data
                const formData = new FormData(form);
                const data = Object.fromEntries(formData.entries());
                
                // Simulate processing time
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                // Generate response
                const response = mockResponses[agentType](data);
                
                // Show response
                responseSection.style.display = 'block';
                contentDiv.textContent = response;
                
                // Set compliance badge
                const complianceStatus = agentType === 'compliance' ? 'revised' : 'compliant';
                complianceBadge.textContent = complianceStatus.toUpperCase();
                complianceBadge.className = `compliance-badge ${complianceStatus}`;
                
                // Hide loading
                btn.disabled = false;
                btnText.style.display = 'inline';
                loading.style.display = 'none';
                
                // Scroll to response
                responseSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            });
        }

        // Initialize form handlers
        handleFormSubmit('negotiation-form', 'negotiation');
        handleFormSubmit('compliance-form', 'compliance');
        handleFormSubmit('forecast-form', 'forecast');

        // Navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });
    </script>
</body>
</html>